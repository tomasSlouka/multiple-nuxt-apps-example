(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{264:function(t,e,r){var content=r(287);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(4).default)("26e954f8",content,!0,{sourceMap:!1})},286:function(t,e,r){"use strict";var n=r(264);r.n(n).a},287:function(t,e,r){(e=r(3)(!1)).push([t.i,"#bar[data-v-4f235ab7]{box-shadow:0 .125rem .125rem rgba(0,0,0,.1);position:relative;top:0;left:0;width:100%;background-color:#fff;z-index:99;height:58px}#bar>.container-narrow[data-v-4f235ab7]{margin-top:0;margin-bottom:0;padding:0 20px;height:100%}#bar>.container-narrow>div.flex[data-v-4f235ab7]{height:100%}.nav>ul[data-v-4f235ab7]{list-style:none;margin:0;padding:0}.nav>ul>li>a[data-v-4f235ab7]{padding:22px;border-bottom:1px solid transparent;position:relative;transition:.3s}.nav>ul>li>a.nuxt-link-exact-active[data-v-4f235ab7],.nav>ul>li>a[data-v-4f235ab7]:hover{color:#39ac37;text-decoration:none}.nav>ul>li.sidenavtoggle[data-v-4f235ab7]{cursor:pointer}.nav>ul>li.sidenavtoggle>div[data-v-4f235ab7]{width:30px;height:4px;background-color:#000;margin:5px 0}.nav>ul>li>a[data-v-4f235ab7]{color:#000;line-height:24px;font-weight:500;text-decoration:none}",""]),t.exports=e},288:function(t,e,r){var content=r(333);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(4).default)("7a70c1d6",content,!0,{sourceMap:!1})},299:function(t,e,r){"use strict";var n={methods:{logout:function(){var t=this;console.log("logout"),this.$store.dispatch("auth/logout").then((function(){t.$router.push("/log-out")}))}}},o=(r(286),r(2)),component=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{attrs:{id:"bar"}},[e("div",{staticClass:"container-narrow"},[e("div",{staticClass:"flex wrap align-items-center justify-content-center"},[e("div",{}),this._v(" "),e("div",{staticClass:"nav"},[e("ul",{staticClass:"flex wrap show-md align-items-center"},[e("li",[e("nuxt-link",{attrs:{to:"/admin/maker/details"}},[this._v("Details")])],1),this._v(" "),e("li",[e("nuxt-link",{attrs:{to:"/admin/maker/portfolio"}},[this._v("Portfolio")])],1)])])])])])])}),[],!1,null,"4f235ab7",null);e.a=component.exports},332:function(t,e,r){"use strict";var n=r(288);r.n(n).a},333:function(t,e,r){(e=r(3)(!1)).push([t.i,".avatar[data-v-ffd8c16c]{height:100px;width:100px;border-radius:100px}.avatar[data-v-ffd8c16c],.cover[data-v-ffd8c16c]{background-repeat:no-repeat;background-position:50%;background-size:cover;cursor:pointer;background-color:#eee}.cover[data-v-ffd8c16c]{height:180px;border-radius:4px}.flex>button.tag[data-v-ffd8c16c]{margin:3px;border:1px solid #eee;background-color:#fff;padding:10px 15px;color:#000;border-radius:4px;cursor:pointer}.flex>button.tag.active[data-v-ffd8c16c],.flex>button.tag[data-v-ffd8c16c]:hover{border:1px solid #000;background-color:#000;color:#fff}",""]),t.exports=e},335:function(t,e,r){"use strict";r.r(e);r(21),r(14),r(31);var n=r(46),o=(r(30),r(6)),c=r(299),l={},d=r(2),v=Object(d.a)(l,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"component"},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"container-narrow grid gap-20"},[e("h2",[this._v("Details")]),this._v(" "),e("p",[this._v("Your maker profile.")])])])])}],!1,null,"3092fe5e",null).exports,f=(r(22),{props:["tagList"],data:function(){return{submitSuccess:!1,name:this.$store.state.auth.userData.name,surname:this.$store.state.auth.userData.surname}},methods:{charCountIntro:function(){this.charCounterIntro=this.bio.length},onFileSelectedAvatar:function(t){this.selectedFileAvatar=t.target.files[0],this.selectedFileUrlAvatar=URL.createObjectURL(this.selectedFileAvatar),this.showSaveAvatar=!0},onCancelAvatar:function(){this.selectedFileAvatar=null,this.selectedFileUrlAvatar=null,this.showSaveAvatar=!1},onUploadAvatar:function(){var t=this,e=new FormData;e.append("myFile",this.selectedFileAvatar,this.selectedFileAvatar.name),e.append("user_id",this.$store.state.auth.userData.id),this.$axios.$post("/upload/user-avatar",e,{onUploadProgress:function(e){t.saveTextAvatar=Math.round(e.loaded/e.total*100)+"%"}}).then((function(e){t.$store.dispatch("setUser"),t.showSaveAvatar=!1,t.saveTextAvatar="Save",console.log(e)}),(function(t){console.log(t)}))},onFileSelectedCover:function(t){this.selectedFileCover=t.target.files[0],this.selectedFileUrlCover=URL.createObjectURL(this.selectedFileCover),this.showSaveCover=!0},onCancelCover:function(){this.selectedFileCover=null,this.selectedFileUrlCover=null,this.showSaveCover=!1},onUploadCover:function(){var t=this,e=new FormData;e.append("myFile",this.selectedFileCover,this.selectedFileCover.name),e.append("user_id",this.$store.state.auth.userData.id),this.$axios.$post("/upload/user-cover",e,{onUploadProgress:function(e){t.saveTextCover=Math.round(e.loaded/e.total*100)+"%"}}).then((function(e){t.$store.dispatch("setUser"),t.showSaveCover=!1,t.saveTextCover="Save",console.log(e)}),(function(t){console.log(t)}))},updateTag:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$axios.$put("/user/tag",{id:e.$store.state.auth.userData.id,tag_id:t}).then((function(r){console.log(r.message),"added"===r.message&&e.tags.push(t),"removed"===r.message&&(e.tags=e.tags.filter((function(e){return e!==t}))),console.log(e.tags)}),(function(t){console.log(t)}));case 2:case"end":return r.stop()}}),r)})))()},submitForm:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$put("/user",{id:t.$store.state.auth.userData.id,name:t.name,surname:t.surname,bio:t.bio}).then((function(e){console.log(e),t.submitSuccess=!0,setTimeout((function(){return t.submitSuccess=!1}),4e3)}),(function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()}}}),h=(r(332),Object(d.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"component grid gap-20 col-2 align-content-start align-items-start"},[r("div",{staticClass:"box grid gap-20"},[r("h3",[t._v("Edit my profile")]),t._v(" "),r("div",{staticClass:"hr"}),t._v(" "),r("form",{staticClass:"grid gap-20 ",on:{submit:function(e){return e.preventDefault(),t.submitForm()}}},[r("div",{staticClass:"grid gap-20"},[r("div",[r("label",{attrs:{for:"name"}},[t._v("* Name")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),r("div",[r("label",{attrs:{for:"surname"}},[t._v("* Surname")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.surname,expression:"surname"}],attrs:{type:"text",name:"surname"},domProps:{value:t.surname},on:{input:function(e){e.target.composing||(t.surname=e.target.value)}}})]),t._v(" "),r("div",[r("label",{attrs:{for:"bio"}},[t._v("Bio")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bio,expression:"bio"}],attrs:{maxlength:"255",type:"text",name:"bio"},domProps:{value:t.bio},on:{keyup:function(e){return t.charCountBio()},input:function(e){e.target.composing||(t.bio=e.target.value)}}}),t._v(" "),r("p",{staticClass:"char-counter small"},[t._v(t._s(t.charCounterBio)+" / 255")])])]),t._v(" "),r("div",{staticClass:"hr"}),t._v(" "),r("div",{staticClass:"grid col-2 gap-10 auto justify-content-start align-items-center"},[r("button",{staticClass:"cta",attrs:{type:"submit"}},[t._v("Save changes")]),t._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:t.submitSuccess,expression:"submitSuccess"}],staticClass:"info"},[t._v("Saved!")])])])])])}),[],!1,null,"ffd8c16c",null).exports),m={layout:"defaultAdmin",components:{Bar:c.a,Intro:v,Details:h},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$axios,t.store,e.next=3,Promise.all([r.$get("/tag/all")]);case 3:return o=e.sent,c=Object(n.a)(o,1),l=c[0],e.abrupt("return",{tagList:l});case 7:case"end":return e.stop()}}),e)})))()}},x=Object(d.a)(m,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page"},[e("Bar"),this._v(" "),e("Intro"),this._v(" "),e("div",{staticClass:"container-narrow grid gap-60"},[e("Details",{attrs:{tagList:this.tagList}})],1)],1)}),[],!1,null,"b144ac5e",null);e.default=x.exports}}]);