exports.ids = [14];
exports.modules = {

/***/ 376:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./apps/manyletter.com/pages/admin/home/newsletter/index.vue?vue&type=template&id=e786e796&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"page"},[_c('CreateIntro'),_vm._ssrNode(" "),_vm._ssrNode("<div class=\"container-narrow grid gap-60\" data-v-e786e796>","</div>",[_c('CreateForm')],1)],2)}
var staticRenderFns = []


// CONCATENATED MODULE: ./apps/manyletter.com/pages/admin/home/newsletter/index.vue?vue&type=template&id=e786e796&scoped=true&

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./apps/manyletter.com/components/admin/home/newsletter/CreateIntro.vue?vue&type=template&id=f77129ee&scoped=true&
var CreateIntrovue_type_template_id_f77129ee_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"component"},[_vm._ssrNode("<div class=\"wrapper\" data-v-f77129ee><div class=\"container-narrow grid gap-20\" data-v-f77129ee><h2 data-v-f77129ee>Create newsletter</h2> <p data-v-f77129ee>Creating a newsletter has never been easier. You can start building audience really fast. Just fill in this form.</p></div></div>")])}
var CreateIntrovue_type_template_id_f77129ee_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./apps/manyletter.com/components/admin/home/newsletter/CreateIntro.vue?vue&type=template&id=f77129ee&scoped=true&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib??vue-loader-options!./apps/manyletter.com/components/admin/home/newsletter/CreateIntro.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var CreateIntrovue_type_script_lang_js_ = ({});
// CONCATENATED MODULE: ./apps/manyletter.com/components/admin/home/newsletter/CreateIntro.vue?vue&type=script&lang=js&
 /* harmony default export */ var newsletter_CreateIntrovue_type_script_lang_js_ = (CreateIntrovue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(0);

// CONCATENATED MODULE: ./apps/manyletter.com/components/admin/home/newsletter/CreateIntro.vue



function injectStyles (context) {
  
  
}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  newsletter_CreateIntrovue_type_script_lang_js_,
  CreateIntrovue_type_template_id_f77129ee_scoped_true_render,
  CreateIntrovue_type_template_id_f77129ee_scoped_true_staticRenderFns,
  false,
  injectStyles,
  "f77129ee",
  "7b62b16a"
  
)

/* harmony default export */ var CreateIntro = (component.exports);
// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./apps/manyletter.com/components/admin/home/newsletter/CreateForm.vue?vue&type=template&id=523c1489&scoped=true&
var CreateFormvue_type_template_id_523c1489_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"component grid gap-20"},[_vm._ssrNode("<div class=\"box grid gap-20\" data-v-523c1489><form class=\"grid gap-20 \" data-v-523c1489><h3 data-v-523c1489>What is your newsletter website?</h3> <div class=\"grid gap-60 align-items-start\" data-v-523c1489><div class=\"grid gap-20\" data-v-523c1489><div data-v-523c1489><label for=\"title\" data-v-523c1489>Newsletter url</label> <input type=\"text\" name=\"url\""+(_vm._ssrAttr("value",(_vm.url)))+" data-v-523c1489></div></div></div> <div class=\"hr\" data-v-523c1489></div> <div data-v-523c1489><button type=\"submit\" class=\"cta\" data-v-523c1489>Get data</button></div></form> <form class=\"grid gap-20 \" data-v-523c1489><h3 data-v-523c1489>Create a new newsletter</h3> <div class=\"grid gap-60 align-items-start\" data-v-523c1489><div class=\"grid gap-20\" data-v-523c1489><div data-v-523c1489><label for=\"title\" data-v-523c1489>Newsletter title</label> <input type=\"text\" name=\"title\""+(_vm._ssrAttr("value",(_vm.title)))+" data-v-523c1489></div> <div data-v-523c1489><label for=\"title\" data-v-523c1489>Newsletter short intro</label> <textarea maxlength=\"255\" type=\"text\" name=\"intro\" data-v-523c1489>"+_vm._ssrEscape(_vm._s(_vm.intro))+"</textarea> <p class=\"char-counter\" data-v-523c1489>"+_vm._ssrEscape(_vm._s(_vm.charCounterIntro)+" / 255")+"</p></div> <div data-v-523c1489><label for=\"title\" data-v-523c1489>Newsletter url</label> <input type=\"text\" name=\"url\""+(_vm._ssrAttr("value",(_vm.url)))+" data-v-523c1489></div> <div data-v-523c1489><label for=\"title\" data-v-523c1489>Newsletter image</label> <input type=\"text\" name=\"og_img\""+(_vm._ssrAttr("value",(_vm.og_img)))+" data-v-523c1489></div> <div data-v-523c1489><label for=\"title\" data-v-523c1489>Newsletter creator name</label> <input type=\"text\" name=\"creator_name\""+(_vm._ssrAttr("value",(_vm.creator_name)))+" data-v-523c1489></div></div></div> <div class=\"hr\" data-v-523c1489></div> <div data-v-523c1489><button type=\"submit\" class=\"cta\" data-v-523c1489>Create</button> <button href=\"#\" class=\"cta white\" data-v-523c1489> Cancel </button></div></form></div>")])}
var CreateFormvue_type_template_id_523c1489_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./apps/manyletter.com/components/admin/home/newsletter/CreateForm.vue?vue&type=template&id=523c1489&scoped=true&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib??vue-loader-options!./apps/manyletter.com/components/admin/home/newsletter/CreateForm.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var CreateFormvue_type_script_lang_js_ = ({
  data() {
    return {
      user_id: this.$store.state.userData.id,
      title: '',
      intro: '',
      description: '',
      og_img: '',
      creator_name: '',
      url: '',
      tags: '',
      scrapeData: '',
      charCounterIntro: 0 // charCounterLong: 0,

    };
  },

  methods: {
    charCountIntro() {
      this.charCounterIntro = this.intro ? this.intro.length : '';
    },

    async scrapePage() {
      await this.$axios.$post('/api/maylday/pg/scrape', {
        'url': this.url
      }).then(response => {
        console.log(response);
        this.scrapeData = response;
        this.title = response.data.og_title;
        this.intro = response.data.og_description;
        this.url = response.data.og_url ? response.data.og_url : this.url;
        this.og_img = response.data.og_image;
        this.creator_name = response.data.og_site_name ? response.data.og_site_name : "manyBot";
        this.charCountIntro();
      }, error => {
        console.log(error);
      });
    },

    // charCountLong() {
    //     this.charCounterLong = this.description.length;
    // },
    async submitForm() {
      // this.$axios.setHeader('AUTHTOKEN', this.$store.state.token)
      await this.$axios.$post('/api/maylday/newsletter', {
        "user_id": this.user_id,
        "title": this.title,
        "intro": this.intro,
        // "description": this.description,
        "creator_name": this.creator_name,
        "url": this.url,
        "og_img": this.og_img,
        "tags": this.tags
      }).then(response => {
        console.log(response);
        this.$store.dispatch('setUser').then(() => {
          this.$router.push('/admin/home/newsletter/success');
        });
      }, error => {
        console.log(error); //this.res = error.response.data.message
      });
    }

  }
});
// CONCATENATED MODULE: ./apps/manyletter.com/components/admin/home/newsletter/CreateForm.vue?vue&type=script&lang=js&
 /* harmony default export */ var newsletter_CreateFormvue_type_script_lang_js_ = (CreateFormvue_type_script_lang_js_); 
// CONCATENATED MODULE: ./apps/manyletter.com/components/admin/home/newsletter/CreateForm.vue



function CreateForm_injectStyles (context) {
  
  
}

/* normalize component */

var CreateForm_component = Object(componentNormalizer["a" /* default */])(
  newsletter_CreateFormvue_type_script_lang_js_,
  CreateFormvue_type_template_id_523c1489_scoped_true_render,
  CreateFormvue_type_template_id_523c1489_scoped_true_staticRenderFns,
  false,
  CreateForm_injectStyles,
  "523c1489",
  "b6381796"
  
)

/* harmony default export */ var CreateForm = (CreateForm_component.exports);
// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib??vue-loader-options!./apps/manyletter.com/pages/admin/home/newsletter/index.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var newslettervue_type_script_lang_js_ = ({
  layout: 'default-admin-home',
  components: {
    CreateIntro: CreateIntro,
    CreateForm: CreateForm
  }
});
// CONCATENATED MODULE: ./apps/manyletter.com/pages/admin/home/newsletter/index.vue?vue&type=script&lang=js&
 /* harmony default export */ var home_newslettervue_type_script_lang_js_ = (newslettervue_type_script_lang_js_); 
// CONCATENATED MODULE: ./apps/manyletter.com/pages/admin/home/newsletter/index.vue



function newsletter_injectStyles (context) {
  
  
}

/* normalize component */

var newsletter_component = Object(componentNormalizer["a" /* default */])(
  home_newslettervue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  newsletter_injectStyles,
  "e786e796",
  "36b30623"
  
)

/* harmony default export */ var newsletter = __webpack_exports__["default"] = (newsletter_component.exports);

/***/ })

};;
//# sourceMappingURL=index.js.map