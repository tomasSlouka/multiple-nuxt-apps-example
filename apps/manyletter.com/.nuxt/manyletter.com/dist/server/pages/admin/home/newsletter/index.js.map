{"version":3,"file":"pages/admin/home/newsletter/index.js","sources":["webpack:///./apps/manyletter.com/pages/admin/home/newsletter/index.vue?ca25","webpack:///./apps/manyletter.com/components/admin/home/newsletter/CreateIntro.vue?d995","webpack:///CreateIntro.vue","webpack:///./apps/manyletter.com/components/admin/home/newsletter/CreateIntro.vue?9285","webpack:///./apps/manyletter.com/components/admin/home/newsletter/CreateIntro.vue","webpack:///./apps/manyletter.com/components/admin/home/newsletter/CreateForm.vue?092b","webpack:///CreateForm.vue","webpack:///./apps/manyletter.com/components/admin/home/newsletter/CreateForm.vue?ae8e","webpack:///./apps/manyletter.com/components/admin/home/newsletter/CreateForm.vue","webpack:///index.vue","webpack:///./apps/manyletter.com/pages/admin/home/newsletter/index.vue?2001","webpack:///./apps/manyletter.com/pages/admin/home/newsletter/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('CreateIntro'),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"container-narrow grid gap-60\\\" data-v-e786e796>\",\"</div>\",[_c('CreateForm')],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"component\"},[_vm._ssrNode(\"<div class=\\\"wrapper\\\" data-v-f77129ee><div class=\\\"container-narrow grid gap-20\\\" data-v-f77129ee><h2 data-v-f77129ee>Create newsletter</h2> <p data-v-f77129ee>Creating a newsletter has never been easier. You can start building audience really fast. Just fill in this form.</p></div></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class='component'>\n        <div class='wrapper'>\n            <div class='container-narrow grid gap-20'>\n                <h2>Create newsletter</h2>\n                <p>Creating a newsletter has never been easier. You can start building audience really fast. Just fill in this form.</p>\n            </div>\n        </div>\n\n        <!-- <div class=\"container-narrow bread\">\n            <a @click.prevent='$router.back()' href='#' class=\"bread justify-self-start flex align-items-center\"> <ion-icon name=\"ios-arrow-back\"></ion-icon> back </a>\n        </div> -->\n    </div>\n</template>\n\n<script>\nexport default {\n\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateIntro.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateIntro.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateIntro.vue?vue&type=template&id=f77129ee&scoped=true&\"\nimport script from \"./CreateIntro.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateIntro.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"f77129ee\",\n  \"7b62b16a\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"component grid gap-20\"},[_vm._ssrNode(\"<div class=\\\"box grid gap-20\\\" data-v-523c1489><form class=\\\"grid gap-20 \\\" data-v-523c1489><h3 data-v-523c1489>What is your newsletter website?</h3> <div class=\\\"grid gap-60 align-items-start\\\" data-v-523c1489><div class=\\\"grid gap-20\\\" data-v-523c1489><div data-v-523c1489><label for=\\\"title\\\" data-v-523c1489>Newsletter url</label> <input type=\\\"text\\\" name=\\\"url\\\"\"+(_vm._ssrAttr(\"value\",(_vm.url)))+\" data-v-523c1489></div></div></div> <div class=\\\"hr\\\" data-v-523c1489></div> <div data-v-523c1489><button type=\\\"submit\\\" class=\\\"cta\\\" data-v-523c1489>Get data</button></div></form> <form class=\\\"grid gap-20 \\\" data-v-523c1489><h3 data-v-523c1489>Create a new newsletter</h3> <div class=\\\"grid gap-60 align-items-start\\\" data-v-523c1489><div class=\\\"grid gap-20\\\" data-v-523c1489><div data-v-523c1489><label for=\\\"title\\\" data-v-523c1489>Newsletter title</label> <input type=\\\"text\\\" name=\\\"title\\\"\"+(_vm._ssrAttr(\"value\",(_vm.title)))+\" data-v-523c1489></div> <div data-v-523c1489><label for=\\\"title\\\" data-v-523c1489>Newsletter short intro</label> <textarea maxlength=\\\"255\\\" type=\\\"text\\\" name=\\\"intro\\\" data-v-523c1489>\"+_vm._ssrEscape(_vm._s(_vm.intro))+\"</textarea> <p class=\\\"char-counter\\\" data-v-523c1489>\"+_vm._ssrEscape(_vm._s(_vm.charCounterIntro)+\" / 255\")+\"</p></div> <div data-v-523c1489><label for=\\\"title\\\" data-v-523c1489>Newsletter url</label> <input type=\\\"text\\\" name=\\\"url\\\"\"+(_vm._ssrAttr(\"value\",(_vm.url)))+\" data-v-523c1489></div> <div data-v-523c1489><label for=\\\"title\\\" data-v-523c1489>Newsletter image</label> <input type=\\\"text\\\" name=\\\"og_img\\\"\"+(_vm._ssrAttr(\"value\",(_vm.og_img)))+\" data-v-523c1489></div> <div data-v-523c1489><label for=\\\"title\\\" data-v-523c1489>Newsletter creator name</label> <input type=\\\"text\\\" name=\\\"creator_name\\\"\"+(_vm._ssrAttr(\"value\",(_vm.creator_name)))+\" data-v-523c1489></div></div></div> <div class=\\\"hr\\\" data-v-523c1489></div> <div data-v-523c1489><button type=\\\"submit\\\" class=\\\"cta\\\" data-v-523c1489>Create</button> <button href=\\\"#\\\" class=\\\"cta white\\\" data-v-523c1489> Cancel </button></div></form></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class='component grid gap-20'>\n        <div class=\"box grid gap-20\">\n            \n            <form @submit.prevent='scrapePage()' class='grid gap-20 '>\n                <h3>What is your newsletter website?</h3>\n                <div class='grid gap-60 align-items-start'>\n                    <div class='grid gap-20'>\n                        <div>\n                            <label for=\"title\">Newsletter url</label>\n                            <input type=\"text\" name='url' v-model='url'/>\n                        </div>\n                    </div>\n                </div>\n                <!-- {{ scrapeData }} -->\n                <div class=\"hr\"></div>\n                <div>\n                    <button type='submit' class='cta'>Get data</button>\n                </div>\n            </form> \n\n            <form @submit.prevent='submitForm()' class='grid gap-20 '>\n                <h3>Create a new newsletter</h3>\n                <div class='grid gap-60 align-items-start'>\n                    <div class='grid gap-20'>\n                        <div>\n                            <label for=\"title\">Newsletter title</label>\n                            <input type=\"text\" name='title' v-model='title'/>\n                        </div>\n                        <div>\n                            <label for=\"title\">Newsletter short intro</label>\n                            <textarea @keyup='charCountIntro()' maxlength=\"255\" type=\"text\" name='intro' v-model='intro'></textarea>\n                            <p class='char-counter'>{{charCounterIntro}} / 255</p>\n                        </div>\n                        <!-- <div>\n                            <label for=\"title\">Newsletter description</label>\n                            <textarea @keyup='charCountLong()' maxlength=\"450\" type=\"text\" name='description' v-model='description'></textarea>\n                            <p class='char-counter'>{{charCounterLong}} / 450</p>\n                        </div> -->\n                        <div>\n                            <label for=\"title\">Newsletter url</label>\n                            <input type=\"text\" name='url' v-model='url'/>\n                        </div>\n                        <div>\n                            <label for=\"title\">Newsletter image</label>\n                            <input type=\"text\" name='og_img' v-model='og_img'/>\n                        </div>\n                        <div>\n                            <label for=\"title\">Newsletter creator name</label>\n                            <input type=\"text\" name='creator_name' v-model='creator_name'/>\n                        </div>\n                    </div>\n                    <!-- <div class='grid gap-20'>\n                        <div>\n                            <label for=\"title\">Tags</label>\n                            <input type=\"text\" name='tags' v-model='tags'/>\n                        </div>\n                    </div> -->\n                </div>\n                <div class=\"hr\"></div>\n                <div>\n                    <button type='submit' class='cta'>Create</button>\n                    <button @click.prevent='$router.back()' href='#' class=\"cta white\"> Cancel </button>\n                </div>\n            </form>            \n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            user_id: this.$store.state.userData.id,\n            title: '',\n            intro: '',\n            description: '',\n            og_img: '',\n            creator_name: '',\n            url: '',\n            tags: '',\n            scrapeData: '',\n\n            charCounterIntro: 0,\n            // charCounterLong: 0,\n        }\n    },\n    methods: {\n        charCountIntro() {\n            this.charCounterIntro = this.intro ? this.intro.length : '';\n        },\n        async scrapePage() {\n            await this.$axios.$post('/api/maylday/pg/scrape', {\n                'url': this.url\n            })\n            .then((response) => {\n                console.log(response)\n                this.scrapeData = response\n                this.title = response.data.og_title\n                this.intro = response.data.og_description\n                this.url = response.data.og_url ? response.data.og_url : this.url\n                this.og_img = response.data.og_image\n                this.creator_name = response.data.og_site_name ? response.data.og_site_name : \"manyBot\"\n                this.charCountIntro()\n            }, (error) => {\n                console.log(error)\n            });\n        },\n        // charCountLong() {\n        //     this.charCounterLong = this.description.length;\n        // },\n        async submitForm() {\n            // this.$axios.setHeader('AUTHTOKEN', this.$store.state.token)\n            await this.$axios.$post('/api/maylday/newsletter', {\n                \"user_id\": this.user_id,\n                \"title\": this.title,\n                \"intro\": this.intro,\n                // \"description\": this.description,\n                \"creator_name\": this.creator_name,\n                \"url\": this.url,\n                \"og_img\": this.og_img,\n                \"tags\": this.tags\n            })\n            .then((response) => {\n                console.log(response);\n                this.$store.dispatch('setUser')\n                .then(() => {\n                    this.$router.push('/admin/home/newsletter/success')\n                })\n            }, (error) => {\n                console.log(error);\n                //this.res = error.response.data.message\n            });\n        }\n    },\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateForm.vue?vue&type=template&id=523c1489&scoped=true&\"\nimport script from \"./CreateForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateForm.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"523c1489\",\n  \"b6381796\"\n  \n)\n\nexport default component.exports","<template>\n    <div class='page'>\n        <CreateIntro />\n        <div class='container-narrow grid gap-60'>\n\n            <CreateForm/>\n\n        </div>\n    </div>\n</template>\n\n<script>\nimport CreateIntro from '@/components/admin/home/newsletter/CreateIntro.vue'\nimport CreateForm from '@/components/admin/home/newsletter/CreateForm.vue'\n\nexport default {\n    layout: 'default-admin-home',\n        components: {\n        CreateIntro, CreateForm,\n    },\n\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=e786e796&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"e786e796\",\n  \"36b30623\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;ACFA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACcA;;AChBA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAZA;AAcA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAWA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AA/CA;AAjBA;;ACtEA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACTA;AACA;AAEA;AACA;AACA;AACA;AAAA;AADA;AAFA;;ACfA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}