(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{280:function(t,e,r){var content=r(337);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(4).default)("75f12a9c",content,!0,{sourceMap:!1})},335:function(t,e,r){t.exports=r.p+"img/sad-smile.b7dbe7c.png"},336:function(t,e,r){"use strict";var n=r(280);r.n(n).a},337:function(t,e,r){(e=r(3)(!1)).push([t.i,"img[data-v-374a7ad6]{width:100%}",""]),t.exports=e},350:function(t,e,r){var content=r(496);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(4).default)("b2356fea",content,!0,{sourceMap:!1})},351:function(t,e,r){var content=r(498);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(4).default)("6552b40b",content,!0,{sourceMap:!1})},360:function(t,e,r){"use strict";var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{attrs:{src:r(335),alt:""}})])}],o={props:["text"]},c=(r(336),r(2)),component=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"component"},[e("div",{staticClass:"box grid gap-20 justify-items-center"},[this._m(0),this._v(" "),e("p",{staticClass:"text-center"},[this._v(this._s(this.text))])])])}),n,!1,null,"374a7ad6",null);e.a=component.exports},495:function(t,e,r){"use strict";var n=r(350);r.n(n).a},496:function(t,e,r){(e=r(3)(!1)).push([t.i,"p.description[data-v-2722a15d]{white-space:pre-wrap}h2[data-v-2722a15d]{margin-bottom:10px}.box.newsletter[data-v-2722a15d]{padding:0;transition:all .6s cubic-bezier(.165,.84,.44,1)}.box.newsletter>.cover[data-v-2722a15d]{width:100%;height:280px;background-color:#eee;border-bottom:1px solid #f5f5f5;border-radius:8px 8px 0 0;background-size:cover;background-position:50%}.box.newsletter .header[data-v-2722a15d]{position:relative;padding:10px 30px 30px}.box.newsletter .header>.avatar[data-v-2722a15d]{position:relative;width:120px}.box.newsletter .header>.avatar>div[data-v-2722a15d]{position:absolute;top:-70px;left:0;background-color:#eee;background-size:cover;background-position:50%;border-radius:100px;border:5px solid #fff;height:120px;width:120px;padding:7px}.box.newsletter>.body[data-v-2722a15d]{padding:40px 30px 30px}",""]),t.exports=e},497:function(t,e,r){"use strict";var n=r(351);r.n(n).a},498:function(t,e,r){(e=r(3)(!1)).push([t.i,".box.message[data-v-35b7bf05]{transition:all .6s cubic-bezier(.165,.84,.44,1)}.box.message[data-v-35b7bf05]:hover{transform:scale(1.02)}",""]),t.exports=e},529:function(t,e,r){"use strict";r.r(e);r(23),r(14),r(32);var n=r(42),o=(r(22),r(5)),c={},l=r(2),d=Object(l.a)(c,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"component"},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"container-narrow grid gap-20"})])])}],!1,null,"0aabda88",null).exports,v={props:["newsletterData"],data:function(){return{user_id:this.$store.state.userData.id}},methods:{subscribe:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$put("/api/maylday/user/subscribe",{newsletter_id:t.newsletterData.id}).then((function(e){console.log(e),t.$store.dispatch("setUser").then((function(){t.newsletterData.subscribers_count++}))}),(function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},unsubscribe:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$put("/api/maylday/user/unsubscribe",{newsletter_id:t.newsletterData.id}).then((function(e){console.log(e),t.$store.dispatch("setUser").then((function(){t.newsletterData.subscribers_count--}))}),(function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()}}},f=(r(495),Object(l.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"component"},[r("div",{staticClass:"grid box newsletter align-content-start"},[r("div",{staticClass:"cover",style:"background-image: url(https://storage.manyletter.com/ymello_filestorage/img/newsletter_cover/"+t.newsletterData.cover+")"}),t._v(" "),r("div",{staticClass:"header grid gap-20"},[r("div",{staticClass:"avatar"},[r("div",{style:"background-image: url(https://storage.manyletter.com/ymello_filestorage/img/newsletter_avatar/"+t.newsletterData.avatar+")"})])]),t._v(" "),r("div",{staticClass:"body grid gap-20 auto align-items-start justify-items-start justify-content-start"},[r("div",{staticClass:"grid gap-30"},[r("div",[r("h2",[t._v(t._s(t.newsletterData.title))]),t._v(" "),r("p",[t._v("created by "),r("span",{staticClass:"strong"},[t._v(t._s(t.newsletterData.creator_name))])])]),t._v(" "),r("p",{staticClass:"thin"},[t._v(t._s(t.newsletterData.intro))]),t._v(" "),r("p",{staticClass:"thin description"},[t._v(t._s(t.newsletterData.description))]),t._v(" "),r("div",{staticClass:"grid gap-10 col-2 auto justify-content-start justify-items-start"},[r("p",{},[r("span",{staticClass:"strong"},[t._v(t._s(t.newsletterData.subscribers_count))]),t._v(" subscribers")]),t._v(" "),r("p",{},[r("span",{staticClass:"strong"},[t._v(t._s(t.newsletterData.messages_count))]),t._v(" messages")])])]),t._v(" "),r("div",{staticClass:"hr"}),t._v(" "),r("div",[t.newsletterData.url?r("a",{staticClass:"button cta white",attrs:{href:t.newsletterData.url+"?ref=manyletter.com",target:"_blank"}},[t._v("Go to official website")]):t._e(),t._v(" "),t.$store.state.userData.user_subscriptions.includes(t.newsletterData.id)?r("button",{staticClass:"cta red",on:{click:function(e){return t.unsubscribe()}}},[t._v("Unsubscribe")]):r("button",{staticClass:"cta",on:{click:function(e){return t.subscribe()}}},[t._v("Click to subscribe now")])])])])])}),[],!1,null,"2722a15d",null).exports),_={props:["messageList"],methods:{openUrl:function(t){window.open(t)}}},m=(r(497),{layout:"default-admin-subscriber",components:{NewsletterIntro:d,NewsletterDetails:f,Messages:Object(l.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"component grid gap-20"},[r("h3",[t._v("Newsletter messages")]),t._v(" "),r("div",{staticClass:"grid gap-20"},t._l(t.messageList.data,(function(e){return r("div",{key:e.id,staticClass:"box message pointer"},[r("div",{staticClass:"grid col-2 auto justify-content-start gap-20",on:{click:function(r){return t.openUrl(e.url)}}},[r("div",{staticClass:"text-center br1 pr20 align-self-start"},[r("p",{staticClass:"big strong"},[t._v(t._s(e.send_date_at.split("-")[2])+"."+t._s(e.send_date_at.split("-")[1]))]),t._v(" "),r("p",{staticClass:"small"},[t._v(t._s(e.send_date_at.split("-")[0]))])]),t._v(" "),r("div",{staticClass:"grid gap-10"},[r("h3",[t._v(t._s(e.title))]),t._v(" "),r("p",{staticClass:"thin"},[t._v(t._s(e.description))])])])])})),0)])}),[],!1,null,"35b7bf05",null).exports,Empty:r(360).a},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,c,l,d,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$axios,o=t.params,e.next=3,Promise.all([r.$get("/api/maylday/newsletter/"+o.id),r.$get("/api/maylday/message/all/"+o.id)]);case 3:return c=e.sent,l=Object(n.a)(c,2),d=l[0],v=l[1],e.abrupt("return",{newsletterData:d,messageList:v});case 8:case"end":return e.stop()}}),e)})))()}}),h=Object(l.a)(m,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page"},[e("NewsletterIntro"),this._v(" "),e("div",{staticClass:"container-narrow grid gap-60"},[e("NewsletterDetails",{attrs:{newsletterData:this.newsletterData.data}}),this._v(" "),this.messageList.count>0?e("Messages",{attrs:{messageList:this.messageList}}):e("Empty",{attrs:{text:"There is nothing to show."}})],1)],1)}),[],!1,null,"d421fc4e",null);e.default=h.exports}}]);