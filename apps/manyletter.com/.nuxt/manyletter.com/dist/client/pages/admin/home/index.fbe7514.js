(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{326:function(t,e,r){var content=r(453);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(4).default)("723eb3c4",content,!0,{sourceMap:!1})},452:function(t,e,r){"use strict";var n=r(326);r.n(n).a},453:function(t,e,r){(e=r(3)(!1)).push([t.i,".box.newsletter[data-v-02888f20]{padding:0;transition:all .6s cubic-bezier(.165,.84,.44,1)}.box.newsletter[data-v-02888f20]:hover{transform:scale(1.02)}.box.newsletter>.cover[data-v-02888f20]{width:100%;height:130px;background-color:#eee;border-bottom:1px solid #f5f5f5;border-radius:8px 8px 0 0;background-size:cover;background-position:50%}.box.newsletter .header[data-v-02888f20]{position:relative;padding:10px 30px 30px}.box.newsletter .header>.avatar[data-v-02888f20]{position:relative;width:80px}.box.newsletter .header>.avatar>div[data-v-02888f20]{position:absolute;top:-40px;left:0;background-color:#eee;background-size:cover;background-position:50%;border-radius:100px;border:5px solid #fff;height:80px;width:80px;padding:7px}.box.newsletter>.body[data-v-02888f20]{padding:20px 30px 30px}",""]),t.exports=e},524:function(t,e,r){"use strict";r.r(e);r(22);var n=r(5),o={},c=r(2),l=Object(c.a)(o,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"component"},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"container-narrow grid gap-20"},[e("h2",[this._v("Home")]),this._v(" "),e("p",[this._v("View your personal subscriptions or create and manage your own newsletters.")])])])])}],!1,null,"1d4f8a85",null).exports,d={methods:{openSubscriptions:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$store.dispatch("setUser").then((function(){t.$router.push("/admin/subscriber/dashboard")}));case 1:case"end":return e.stop()}}),e)})))()}}},v=Object(c.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"component"},[r("div",{staticClass:"grid gap-20"},[r("div",{staticClass:"grid gap-20 justify-self-start box"},[r("h3",[t._v("Your subscriptions")]),t._v(" "),r("div",[r("button",{staticClass:"cta",on:{click:function(e){return e.preventDefault(),t.openSubscriptions()}}},[t._v("Enter your newsletter subscriptions")])])])])])}),[],!1,null,"9e8f802a",null).exports,f={props:["newsletterList"],data:function(){return{}},methods:{setUserNewsletter:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$axios.$put("/api/maylday/user/newsletter",{newsletter_id:t}).then((function(t){console.log(t),e.$store.dispatch("setUser").then((function(){e.$router.push("/admin/creator/dashboard")}))}),(function(t){console.log(t)}));case 2:case"end":return r.stop()}}),r)})))()}}},h=(r(452),{}),_={layout:"default-admin-home",components:{Home:l,Subscriber:v,Creator:Object(c.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"component"},[r("div",{staticClass:"grid gap-20"},[r("h3",[t._v("Your newsletters")]),t._v(" "),r("div",{staticClass:"grid gap-20 md-col-2"},t._l(t.newsletterList.data,(function(e){return r("div",{key:e.id,staticClass:"grid box pointer newsletter align-content-start",on:{"~click":function(r){return t.setUserNewsletter(e.newsletter_id)}}},[r("div",{staticClass:"cover",style:"background-image: url(https://storage.manyletter.com/ymello_filestorage/img/newsletter_cover/"+e.cover+")"}),t._v(" "),r("div",{staticClass:"header grid gap-20"},[r("div",{staticClass:"avatar"},[r("div",{style:"background-image: url(https://storage.manyletter.com/ymello_filestorage/img/newsletter_avatar/"+e.avatar+")"})])]),t._v(" "),r("div",{staticClass:"body grid gap-20 auto align-items-start justify-items-start justify-content-start"},[r("div",{staticClass:"grid gap-20"},[r("div",[r("h3",[t._v(t._s(e.title))]),t._v(" "),r("p",{staticClass:"font14"},[t._v("created by "),r("span",{staticClass:"strong"},[t._v(t._s(e.creator_name))])])]),t._v(" "),r("p",{staticClass:"thin"},[t._v(t._s(e.intro))]),t._v(" "),r("div",{staticClass:"grid gap-10 auto col-2 justify-content-start justify-items-start"},[r("p",{},[r("span",{staticClass:"strong"},[t._v(t._s(e.subscribers_count))]),t._v(" subscribers ")]),t._v(" "),r("p",{},[r("span",{staticClass:"strong"},[t._v(t._s(e.messages_count))]),t._v(" messages ")])])])])])})),0)])])}),[],!1,null,"02888f20",null).exports,StartNewsletter:Object(c.a)(h,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"component"},[e("div",{staticClass:"box grid gap-20 span-2 justify-items-center"},[e("h3",{staticClass:"text-center"},[this._v("Start a new nesletter")]),this._v(" "),e("p",{staticClass:"text-center"},[this._v("There is nothing easier. Click the button and create a new nesletter in a few steps.")]),this._v(" "),e("div",[e("nuxt-link",{staticClass:"cta",attrs:{to:"/admin/home/newsletter",tag:"button"}},[this._v("Start a new newsletter")])],1)])])}),[],!1,null,"1358b3c2",null).exports},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$axios,e.next=3,r.$get("/api/maylday/newsletter/all/creator");case 3:return n=e.sent,e.abrupt("return",{newsletterList:n});case 5:case"end":return e.stop()}}),e)})))()}},m=Object(c.a)(_,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page"},[e("Home"),this._v(" "),e("div",{staticClass:"container-narrow grid gap-60"},[e("Subscriber"),this._v(" "),this.newsletterList.count>0?e("Creator",{attrs:{newsletterList:this.newsletterList}}):this._e(),this._v(" "),e("StartNewsletter")],1)],1)}),[],!1,null,"2b3d317b",null);e.default=m.exports}}]);