(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{348:function(t,e,n){var content=n(492);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(4).default)("7156c67e",content,!0,{sourceMap:!1})},349:function(t,e,n){var content=n(494);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(4).default)("3acd3b26",content,!0,{sourceMap:!1})},491:function(t,e,n){"use strict";var r=n(348);n.n(r).a},492:function(t,e,n){(e=n(3)(!1)).push([t.i,"",""]),t.exports=e},493:function(t,e,n){"use strict";var r=n(349);n.n(r).a},494:function(t,e,n){(e=n(3)(!1)).push([t.i,".danger-zone[data-v-79f60192]{border:1px solid rgba(215,58,74,.48627)}",""]),t.exports=e},526:function(t,e,n){"use strict";n.r(e);n(23),n(14),n(32);var r=n(42),o=(n(22),n(5)),l=n(107),c={},v=n(2),d=Object(v.a)(c,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"component"},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"container-narrow grid gap-20"},[e("h2",[this._v("Message")]),this._v(" "),e("p",[this._v("See the detailed information about the newsletter message.")])])])])}],!1,null,"0d93ae5c",null).exports,_={props:["messageData"]},m=(n(491),Object(v.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component grid gap-20"},[n("div",{staticClass:"box message grid gap-20"},[n("div",{staticClass:"grid col-2 auto justify-content-start gap-20"},[n("div",{staticClass:"text-center br1 pr20 align-self-start"},[n("p",{staticClass:"big strong"},[t._v(t._s(t.messageData.send_date_at.split("-")[2])+"."+t._s(t.messageData.send_date_at.split("-")[1]))]),t._v(" "),n("p",{staticClass:"small"},[t._v(t._s(t.messageData.send_date_at.split("-")[0]))])]),t._v(" "),n("div",{staticClass:"grid gap-10"},[n("h3",[t._v(t._s(t.messageData.title))]),t._v(" "),n("p",{staticClass:"thin"},[t._v(t._s(t.messageData.description))])])]),t._v(" "),n("div",{staticClass:"hr"}),t._v(" "),n("nuxt-link",{staticClass:"cta justify-self-start",attrs:{tag:"button",to:"/admin/creator/messages/message/edit/"+t.messageData.id}},[t._v("Edit message")])],1)])}),[],!1,null,"54aa098c",null).exports),f={props:["statsMessageData"]},h=Object(v.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component grid gap-20"},[n("div",{staticClass:"box grid gap-20"},[n("h3",[t._v("Message stats")]),t._v(" "),n("div",{staticClass:"grid xs-col-1 sm-col-2 auto justify-items-start justify-content-start align-items-start gap-40"},[n("div",{staticClass:"table grid col-2 auto mb20"},[n("div",{staticClass:"table-row"},[n("div",[t._v("Sent to")]),t._v(" "),n("div",[t._v(t._s(t.statsMessageData.sent_to_count)+" subscribers")])]),t._v(" "),n("div",{staticClass:"table-row"},[n("div",[t._v("Opened by")]),t._v(" "),n("div",[t._v(t._s(t.statsMessageData.opened_by_count)+" subscribers")])]),t._v(" "),n("div",{staticClass:"table-row"},[n("div",[t._v("Open rate")]),t._v(" "),n("div",[t._v(t._s(t.statsMessageData.open_rate))])]),t._v(" "),n("div",{staticClass:"table-row"},[n("div",[t._v("Rating")]),t._v(" "),n("div",[t._v(t._s(t.statsMessageData.rating))])]),t._v(" "),n("div",{staticClass:"table-row"},[n("div",[t._v("Total views")]),t._v(" "),n("div",[t._v(t._s(t.statsMessageData.total_views_count))])])]),t._v(" "),n("div",{staticClass:"table grid col-2 auto mb20"},[n("div",{staticClass:"table-row"},[n("div",[t._v("Rank based on number of subs")]),t._v(" "),n("div",[t._v(t._s(t.statsMessageData.rank_base_total_views))])]),t._v(" "),n("div",{staticClass:"table-row"},[n("div",[t._v("Rank based on average open rate")]),t._v(" "),n("div",[t._v(t._s(t.statsMessageData.rank_base_avarage_open_rate))])]),t._v(" "),n("div",{staticClass:"table-row"},[n("div",[t._v("Rank based on average rating")]),t._v(" "),n("div",[t._v(t._s(t.statsMessageData.rank_base_avarage_rating))])])])])])])}),[],!1,null,"5f38c8f6",null).exports,D={methods:{deleteButton:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$delete("/api/maylday/message/"+t.$route.params.id).then((function(e){console.log(e),t.$router.push("/admin/creator/messages")}),(function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()}}},C=(n(493),Object(v.a)(D,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component grid gap-20"},[n("div",{staticClass:"box grid gap-20 danger-zone"},[n("h3",[t._v("Danger zone")]),t._v(" "),n("div",{},[n("button",{staticClass:"cta red",on:{"~click":function(e){return t.deleteButton()}}},[t._v("Delete message")])])])])}),[],!1,null,"79f60192",null).exports),w={layout:"default-admin-creator",components:{Header:l.a,DetailIntro:d,Detail:m,DetailStats:h,DetailDangerZone:C},data:function(){return{messageData:null}},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,l,c,v,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,t.$auth,o=t.params,e.next=3,Promise.all([n.$get("/api/maylday/message/"+o.id),n.$get("/api/maylday/stats/message/"+o.id)]);case 3:return l=e.sent,c=Object(r.a)(l,2),v=c[0],d=c[1],e.abrupt("return",{messageData:v,statsMessageData:d});case 8:case"end":return e.stop()}}),e)})))()}},x=Object(v.a)(w,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page"},[e("DetailIntro"),this._v(" "),e("div",{staticClass:"container-narrow grid gap-60"},[e("Detail",{attrs:{messageData:this.messageData.data}}),this._v(" "),e("DetailStats",{attrs:{statsMessageData:this.statsMessageData.data}}),this._v(" "),e("DetailDangerZone")],1)],1)}),[],!1,null,"21f4a785",null);e.default=x.exports}}]);