(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{279:function(t,e,o){var content=o(323);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(4).default)("59104bab",content,!0,{sourceMap:!1})},322:function(t,e,o){"use strict";var r=o(279);o.n(r).a},323:function(t,e,o){(e=o(3)(!1)).push([t.i,".avatar[data-v-6f47023b]{height:100px;width:100px;border-radius:100px;background-repeat:no-repeat;background-position:50%;background-size:cover;cursor:pointer;background-color:#eee}",""]),t.exports=e},344:function(t,e,o){var content=o(484);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(4).default)("e33502c6",content,!0,{sourceMap:!1})},345:function(t,e,o){var content=o(486);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(4).default)("fab051b6",content,!0,{sourceMap:!1})},359:function(t,e,o){"use strict";o(22);var r=o(5),n=(o(24),{data:function(){return{submitSuccess:!1,email:this.$store.state.userData.email,avatar:this.$store.state.userData.avatar,name:this.$store.state.userData.name,surname:this.$store.state.userData.surname,nickname:this.$store.state.userData.nickname,bio:this.$store.state.userData.bio,website:this.$store.state.userData.website,twitter:this.$store.state.userData.twitter,facebook:this.$store.state.userData.facebook,other_social:this.$store.state.userData.other_social,selectedFile:null,selectedFileUrl:null,showSave:!1,saveText:"Save",charCounter:this.$store.state.userData.bio?this.$store.state.userData.bio.length:"0"}},methods:{charCount:function(){this.charCounter=this.bio.length},onFileSelected:function(t){this.selectedFile=t.target.files[0],this.selectedFileUrl=URL.createObjectURL(this.selectedFile),this.showSave=!0},onCancel:function(){this.selectedFile=null,this.selectedFileUrl=null,this.showSave=!1},onUpload:function(){var t=this,e=new FormData;e.append("myFile",this.selectedFile,this.selectedFile.name),console.log(e),this.$axios.$post("/api/maylday/upload/user-avatar",e,{onUploadProgress:function(e){t.saveText=Math.round(e.loaded/e.total*100)+"%"}}).then((function(e){t.showSave=!1,t.saveText="Save",console.log(e)}),(function(t){console.log(t)}))},submitForm:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$put("/api/maylday/user",{email:t.email,name:t.name,surname:t.surname,nickname:t.nickname,bio:t.bio,website:t.website,twitter:t.twitter,facebook:t.facebook,other_social:t.other_social}).then((function(e){console.log(e),t.submitSuccess=!0,setTimeout((function(){return t.submitSuccess=!1}),4e3)}),(function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()}}}),l=(o(322),o(2)),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"component grid gap-20"},[o("div",{staticClass:"box grid gap-20"},[o("h3",[t._v("Your profile")]),t._v(" "),o("p",[t._v("Fill in your profile so other users can find you in ManyLetter and follow you.")]),t._v(" "),o("div",[o("form",{on:{submit:function(e){return e.preventDefault(),t.onUpload()}}},[o("label",{attrs:{for:"title"}},[t._v("Avatar")]),t._v(" "),o("div",{staticClass:"grid gap-20 col-2 auto justify-content-start align-items-center"},[null===t.selectedFileUrl?o("div",{staticClass:"avatar",style:"background-image: url(https://storage.manyletter.com/ymello_filestorage/img/user_avatar/"+t.avatar+")",on:{click:function(e){return e.preventDefault(),t.$refs.fileInput.click()}}}):o("div",{staticClass:"avatar",style:"background-image: url("+t.selectedFileUrl+")",on:{click:function(e){return e.preventDefault(),t.$refs.fileInput.click()}}}),t._v(" "),o("div",{staticClass:"grid gap-10 md-col-2 auto justify-content-start align-items-center"},[o("button",{directives:[{name:"show",rawName:"v-show",value:t.showSave,expression:"showSave"}],staticClass:"cta"},[t._v(t._s(t.saveText))]),t._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:t.showSave,expression:"showSave"}],staticClass:"cta    red",on:{click:function(e){return e.preventDefault(),t.onCancel()}}},[t._v("Cancel")])])]),t._v(" "),o("input",{ref:"fileInput",staticClass:"hidden",attrs:{name:"myFile",type:"file"},on:{change:function(e){return t.onFileSelected(e)}}})])]),t._v(" "),o("form",{staticClass:"grid gap-20 ",on:{submit:function(e){return e.preventDefault(),t.submitForm()}}},[o("div",{staticClass:"grid gap-20"},[o("div",{staticClass:"grid md-col-2 gap-20"},[o("div",[o("label",{attrs:{for:"title"}},[t._v("Name")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),o("div",[o("label",{attrs:{for:"title"}},[t._v("Surname")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.surname,expression:"surname"}],attrs:{type:"text",name:"surname"},domProps:{value:t.surname},on:{input:function(e){e.target.composing||(t.surname=e.target.value)}}})])]),t._v(" "),o("div",[o("label",{attrs:{for:"title"}},[t._v("Nickname * (will be show in ManyLetter)")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],attrs:{type:"text",name:"nickname"},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}})]),t._v(" "),o("div",[o("label",{attrs:{for:"title"}},[t._v("Bio")]),t._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bio,expression:"bio"}],attrs:{maxlength:"255",type:"text",name:"bio"},domProps:{value:t.bio},on:{keyup:function(e){return t.charCount()},input:function(e){e.target.composing||(t.bio=e.target.value)}}}),t._v(" "),o("p",[t._v(t._s(t.charCounter)+" / 255")])]),t._v(" "),o("div",[o("label",{attrs:{for:"title"}},[t._v("Email * (your email will not show anywhere in ManyLetter)")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"hr mt40 mb40"}),t._v(" "),o("h4",[t._v("Where others can find you?")]),t._v(" "),o("div",[o("label",{attrs:{for:"title"}},[t._v("Your website")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.website,expression:"website"}],attrs:{type:"text",name:"website"},domProps:{value:t.website},on:{input:function(e){e.target.composing||(t.website=e.target.value)}}})]),t._v(" "),o("div",[o("label",{attrs:{for:"title"}},[t._v("Twitter")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.twitter,expression:"twitter"}],attrs:{type:"text",name:"twitter"},domProps:{value:t.twitter},on:{input:function(e){e.target.composing||(t.twitter=e.target.value)}}})]),t._v(" "),o("div",[o("label",{attrs:{for:"title"}},[t._v("Facebook")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.facebook,expression:"facebook"}],attrs:{type:"text",name:"facebook"},domProps:{value:t.facebook},on:{input:function(e){e.target.composing||(t.facebook=e.target.value)}}})]),t._v(" "),o("div",[o("label",{attrs:{for:"title"}},[t._v("Other social network")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.other_social,expression:"other_social"}],attrs:{type:"text",name:"other"},domProps:{value:t.other_social},on:{input:function(e){e.target.composing||(t.other_social=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"hr"}),t._v(" "),o("div",{staticClass:"grid col-2 gap-10 auto justify-content-start align-items-center"},[o("button",{staticClass:"cta",attrs:{type:"submit"}},[t._v("Save changes")]),t._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:t.submitSuccess,expression:"submitSuccess"}],staticClass:"info"},[t._v("Saved!")])])])])])}),[],!1,null,"6f47023b",null);e.a=component.exports},483:function(t,e,o){"use strict";var r=o(344);o.n(r).a},484:function(t,e,o){(e=o(3)(!1)).push([t.i,"p.token[data-v-5b20989e]{display:table;table-layout:fixed;width:100%;word-wrap:break-word}p.social[data-v-5b20989e]{background:#fff;border-radius:20px;height:40px;width:40px;display:grid;justify-items:center;align-items:center;box-shadow:0 1px 6px 0 rgba(14,30,37,.12);color:#000;cursor:pointer;font-size:20px}p.social.facebook[data-v-5b20989e]:hover{color:#3b5998}p.social.twitter[data-v-5b20989e]:hover{color:#00acee}p.social.instagram[data-v-5b20989e]:hover{color:#e1306c}ul[data-v-5b20989e]{margin-left:20px}",""]),t.exports=e},485:function(t,e,o){"use strict";var r=o(345);o.n(r).a},486:function(t,e,o){(e=o(3)(!1)).push([t.i,".danger-zone[data-v-985b9a9c]{border:1px solid rgba(215,58,74,.48627)}",""]),t.exports=e},523:function(t,e,o){"use strict";o.r(e);var r={},n=o(2),l=Object(n.a)(r,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"Settings"}},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"container-narrow grid gap-20"},[e("h2",[this._v("Settings")]),this._v(" "),e("p",[this._v("Set up all the settings of your account and newsletter subscriptions.")])])])])}],!1,null,"53d8af74",null).exports,c=o(359),v={},d=(o(483),Object(n.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"component grid gap-60"},[o("div",{staticClass:"box grid gap-20"},[o("h3",[t._v("Referral link")]),t._v(" "),o("p",[t._v("Use your referral link to invite your friends to ManyLetter. Unlock bonuses for them as well as for you.")]),t._v(" "),o("div",{staticClass:"grid auto gap-40"},[o("div",{staticClass:"table grid auto"},[t._m(0),t._v(" "),o("div",{staticClass:"table-row"},[o("div",[o("p",{staticClass:"token small"},[t._v("https://manyletter.com/?r="+t._s(t.$store.state.userData.email_hash))])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"table-head"},[e("div",[this._v("Your referral link")])])}],!1,null,"5b20989e",null).exports),m=(o(22),o(5)),_=(o(51),{data:function(){return{submitSuccess:!1,submitText:"Saved!",hour:this.$store.state.userData.message_time.split(":")[0],minute:this.$store.state.userData.message_time.split(":")[1]}},methods:{submitForm:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$put("/api/maylday/user/time",{message_time:t.hour+":"+t.minute}).then((function(e){console.log(e),t.$store.dispatch("setUser"),t.submitSuccess=!0,setTimeout((function(){return t.submitSuccess=!1}),4e3)}),(function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()}}}),f=Object(n.a)(_,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"component grid gap-20"},[o("div",{staticClass:"box grid gap-20"},[o("form",{staticClass:"grid gap-20 ",on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[o("h3",[t._v("Choose your time")]),t._v(" "),o("p",[t._v("Choose a time when you want to receive messages from your subscibed newsletter every day.")]),t._v(" "),o("div",{staticClass:"grid gap-20 col-2 auto justify-content-start justify-items-start"},[o("div",[o("label",{attrs:{for:"title"}},[t._v("Hour")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.hour,expression:"hour"}],attrs:{type:"text",name:"hour"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.hour=e.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"00"}},[t._v("00")]),t._v(" "),o("option",{attrs:{value:"01"}},[t._v("01")]),t._v(" "),o("option",{attrs:{value:"02"}},[t._v("02")]),t._v(" "),o("option",{attrs:{value:"03"}},[t._v("03")]),t._v(" "),o("option",{attrs:{value:"04"}},[t._v("04")]),t._v(" "),o("option",{attrs:{value:"05"}},[t._v("05")]),t._v(" "),o("option",{attrs:{value:"06"}},[t._v("06")]),t._v(" "),o("option",{attrs:{value:"07"}},[t._v("07")]),t._v(" "),o("option",{attrs:{value:"08"}},[t._v("08")]),t._v(" "),o("option",{attrs:{value:"09"}},[t._v("09")]),t._v(" "),o("option",{attrs:{value:"10"}},[t._v("10")]),t._v(" "),o("option",{attrs:{value:"11"}},[t._v("11")]),t._v(" "),o("option",{attrs:{value:"12"}},[t._v("12")]),t._v(" "),o("option",{attrs:{value:"13"}},[t._v("13")]),t._v(" "),o("option",{attrs:{value:"14"}},[t._v("14")]),t._v(" "),o("option",{attrs:{value:"15"}},[t._v("15")]),t._v(" "),o("option",{attrs:{value:"16"}},[t._v("16")]),t._v(" "),o("option",{attrs:{value:"17"}},[t._v("17")]),t._v(" "),o("option",{attrs:{value:"18"}},[t._v("18")]),t._v(" "),o("option",{attrs:{value:"19"}},[t._v("19")]),t._v(" "),o("option",{attrs:{value:"20"}},[t._v("20")]),t._v(" "),o("option",{attrs:{value:"21"}},[t._v("21")]),t._v(" "),o("option",{attrs:{value:"22"}},[t._v("22")]),t._v(" "),o("option",{attrs:{value:"23"}},[t._v("23")])])]),t._v(" "),o("div",[o("label",{attrs:{for:"title"}},[t._v("Minute")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.minute,expression:"minute"}],attrs:{type:"text",name:"minute"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.minute=e.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"00"}},[t._v("00")]),t._v(" "),o("option",{attrs:{value:"15"}},[t._v("15")]),t._v(" "),o("option",{attrs:{value:"30"}},[t._v("30")]),t._v(" "),o("option",{attrs:{value:"45"}},[t._v("45")])])])]),t._v(" "),o("div",{staticClass:"hr"}),t._v(" "),o("div",{staticClass:"grid col-2 gap-10 auto justify-content-start align-items-center"},[o("button",{staticClass:"cta",attrs:{type:"submit"}},[t._v("Save changes")]),t._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:t.submitSuccess,expression:"submitSuccess"}],staticClass:"info"},[t._v(" "+t._s(t.submitText)+" ")])])])])])}),[],!1,null,"16374eba",null).exports,h={data:function(){return{submitSuccess:!1,submitError:!1,submitText:"Saved!",password_locked:this.$store.state.userData.password_locked,password_1:1==this.$store.state.userData.password_locked?"uimreacc":"",password_2:1==this.$store.state.userData.password_locked?"asdfzujz":""}},methods:{submitForm:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.password_1!==t.password_2){e.next=5;break}return e.next=3,t.$axios.$put("/api/maylday/user/setpassword",{password:t.password_1}).then((function(e){console.log(e),t.$store.dispatch("setUser"),t.submitSuccess=!0,t.submitText="Saved!",""===t.password_1?t.password_locked=0:t.password_locked=1,setTimeout((function(){return t.submitSuccess=!1}),4e3)}),(function(t){console.log(t)}));case 3:e.next=8;break;case 5:t.submitError=!0,t.submitText="Passwords do not match!",setTimeout((function(){t.submitError=!1,t.submitText=""}),4e3);case 8:case"end":return e.stop()}}),e)})))()},removePassword:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$put("/api/maylday/user/removepassword",{}).then((function(e){console.log(e),t.$store.dispatch("setUser"),t.password_locked=0,t.password_1="",t.password_2=""}),(function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()}}},w=Object(n.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"component grid gap-20"},[o("div",{staticClass:"box grid gap-20"},[o("form",{staticClass:"grid gap-20 ",on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[o("h3",[t._v("Password settings")]),t._v(" "),o("p",[t._v("You can enable or disable your password for ManyLetter. When password is empty, ManyLetter will send you an automatic message with a login code. Otherwise, you can log in to ManyLetter with your static password.")]),t._v(" "),o("div",{staticClass:"hr"}),t._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:1==t.password_locked,expression:"password_locked == 1"}],staticClass:"info strong p0 grid col-2"},[t._v("You are logging in with a password "),o("button",{staticClass:"cta red small justify-self-end",on:{click:function(e){return e.preventDefault(),t.removePassword()}}},[t._v("Switch to login code")])]),t._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0==t.password_locked,expression:"password_locked == 0"}],staticClass:"info strong p0"},[t._v("You are logging in with a login code")]),t._v(" "),o("div",{staticClass:"hr"}),t._v(" "),o("h4",[t._v("Change the password")]),t._v(" "),o("div",{staticClass:"grid gap-20 xs-col-1 lg-col-2 align-items-start"},[o("div",[o("label",{attrs:{for:"title"}},[t._v("New password *")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password_1,expression:"password_1"}],attrs:{type:"password",name:"password_1"},domProps:{value:t.password_1},on:{input:function(e){e.target.composing||(t.password_1=e.target.value)}}})]),t._v(" "),o("div",[o("label",{attrs:{for:"title"}},[t._v("New password verification *")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password_2,expression:"password_2"}],attrs:{type:"password",name:"password_2"},domProps:{value:t.password_2},on:{input:function(e){e.target.composing||(t.password_2=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"hr"}),t._v(" "),o("div",{staticClass:"grid col-2 gap-10 auto justify-content-start align-items-center"},[o("button",{staticClass:"cta",attrs:{type:"submit"}},[t._v("Save new password")]),t._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:t.submitSuccess,expression:"submitSuccess"}],staticClass:"info"},[t._v(" "+t._s(t.submitText)+" ")]),t._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:t.submitError,expression:"submitError"}],staticClass:"error"},[t._v(" "+t._s(t.submitText)+" ")])])])])])}),[],!1,null,"53110a76",null).exports,x={},y=(o(485),Object(n.a)(x,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"component grid gap-20 "},[e("div",{staticClass:"box grid gap-20 danger-zone"},[e("h3",[this._v("Danger zone")]),this._v(" "),e("div",{},[e("button",{staticClass:"cta red"},[this._v("Delete account")])])])])}],!1,null,"985b9a9c",null).exports),C={layout:"default-admin-subscriber",components:{Settings:l,AccountData:c.a,DangerZone:y,Password:w,Time:f,Referral:d},methods:{loadBack:function(){this.$router.go(-1)}}},k=Object(n.a)(C,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page"},[e("Settings"),this._v(" "),e("div",{staticClass:"container-narrow grid gap-60"},[e("AccountData"),this._v(" "),e("Referral"),this._v(" "),e("Time"),this._v(" "),e("Password")],1)],1)}),[],!1,null,"fa8202c8",null);e.default=k.exports}}]);